{"version":3,"file":"commonHelpers.js","sources":["../src/js/modal.js","../src/js/header.js"],"sourcesContent":["import { navListItems, openModalButton } from './header';\n\nexport const closeModalButton = document.querySelector('.modal-close');\nexport const modalBackdrop = document.querySelector('.modal-backdrop');\n\nconst signUpForm = document.querySelector('.sign-up-form');\nconst logOutButton = document.querySelector('.log-out-button');\nconst STORAGE_KEY = 'sign-up-form-state';\nlet data = JSON.parse(localStorage.getItem(STORAGE_KEY)) || '';\n\nsignUpForm.addEventListener('submit', event => {\n  localStorage.removeItem(STORAGE_KEY);\n  event.preventDefault();\n  const userName = event.currentTarget.elements.name.value.trim();\n  const userEmail = event.currentTarget.elements.email.value.trim();\n  const userPassword = event.currentTarget.elements.password.value.trim();\n\n  if (\n    userName.length === 0 ||\n    userEmail.length === 0 ||\n    userPassword.length === 0\n  ) {\n    alert('All form fields must be filled in');\n  } else {\n    const userData = {\n      name: userName,\n      email: userEmail,\n      password: userPassword,\n    };\n    signUpForm.reset();\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(userData));\n    if (JSON.stringify(userData) !== 0) {\n      navListItems.forEach(navListItem => {\n        navListItem.classList.remove('hidden');\n      });\n\n      openModalButton.replaceChildren();\n      openModalButton.insertAdjacentHTML(\n        'beforeend',\n        `<img src=\"\"> ${userData.name}`\n      );\n      signUpForm.classList.add('hidden');\n      logOutButton.classList.remove('hidden');\n      logOutButton.addEventListener('click', () => {\n        navListItems.forEach(navListItem => {\n          navListItem.classList.add('hidden');\n        });\n        signUpForm.classList.remove('hidden');\n        logOutButton.classList.add('hidden');\n        openModalButton.replaceChildren();\n        openModalButton.insertAdjacentHTML('beforeend', `Sign-up`);\n        localStorage.removeItem(STORAGE_KEY);\n      });\n    }\n    modalBackdrop.classList.add('visually-hidden');\n  }\n});\n","import { modalBackdrop, closeModalButton } from './modal';\n\nexport const navListItems = document.querySelectorAll('.navigation-list-item');\nexport const openModalButton = document.querySelector('.modal-open');\n\nopenModalButton.addEventListener('click', () => {\n  modalBackdrop.classList.remove('visually-hidden');\n  closeModalButton.addEventListener('click', () => {\n    modalBackdrop.classList.add('visually-hidden');\n  });\n  closeModalButton.removeEventListener('click', () => {});\n});\n"],"names":["closeModalButton","modalBackdrop","signUpForm","logOutButton","STORAGE_KEY","event","userName","userEmail","userPassword","userData","navListItems","navListItem","openModalButton"],"mappings":"ssBAEO,MAAMA,EAAmB,SAAS,cAAc,cAAc,EACxDC,EAAgB,SAAS,cAAc,iBAAiB,EAE/DC,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAc,qBACT,KAAK,MAAM,aAAa,QAAQA,CAAW,CAAC,EAEvDF,EAAW,iBAAiB,SAAUG,GAAS,CAC7C,aAAa,WAAWD,CAAW,EACnCC,EAAM,eAAc,EACpB,MAAMC,EAAWD,EAAM,cAAc,SAAS,KAAK,MAAM,OACnDE,EAAYF,EAAM,cAAc,SAAS,MAAM,MAAM,OACrDG,EAAeH,EAAM,cAAc,SAAS,SAAS,MAAM,OAEjE,GACEC,EAAS,SAAW,GACpBC,EAAU,SAAW,GACrBC,EAAa,SAAW,EAExB,MAAM,mCAAmC,MACpC,CACL,MAAMC,EAAW,CACf,KAAMH,EACN,MAAOC,EACP,SAAUC,CAChB,EACIN,EAAW,MAAK,EAChB,aAAa,QAAQE,EAAa,KAAK,UAAUK,CAAQ,CAAC,EACtD,KAAK,UAAUA,CAAQ,IAAM,IAC/BC,EAAa,QAAQC,GAAe,CAClCA,EAAY,UAAU,OAAO,QAAQ,CAC7C,CAAO,EAEDC,EAAgB,gBAAe,EAC/BA,EAAgB,mBACd,YACA,gBAAgBH,EAAS,IAAI,EACrC,EACMP,EAAW,UAAU,IAAI,QAAQ,EACjCC,EAAa,UAAU,OAAO,QAAQ,EACtCA,EAAa,iBAAiB,QAAS,IAAM,CAC3CO,EAAa,QAAQC,GAAe,CAClCA,EAAY,UAAU,IAAI,QAAQ,CAC5C,CAAS,EACDT,EAAW,UAAU,OAAO,QAAQ,EACpCC,EAAa,UAAU,IAAI,QAAQ,EACnCS,EAAgB,gBAAe,EAC/BA,EAAgB,mBAAmB,YAAa,SAAS,EACzD,aAAa,WAAWR,CAAW,CAC3C,CAAO,GAEHH,EAAc,UAAU,IAAI,iBAAiB,CAC9C,CACH,CAAC,ECtDM,MAAMS,EAAe,SAAS,iBAAiB,uBAAuB,EAChEE,EAAkB,SAAS,cAAc,aAAa,EAEnEA,EAAgB,iBAAiB,QAAS,IAAM,CAC9CX,EAAc,UAAU,OAAO,iBAAiB,EAChDD,EAAiB,iBAAiB,QAAS,IAAM,CAC/CC,EAAc,UAAU,IAAI,iBAAiB,CACjD,CAAG,EACDD,EAAiB,oBAAoB,QAAS,IAAM,CAAE,CAAA,CACxD,CAAC"}